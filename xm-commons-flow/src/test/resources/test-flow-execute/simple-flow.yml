---
flows:
- key: "simple-flow"
  startStep: "step1"
  steps:
  - key: "step1"
    typeKey: "sum"
    parameters:
      a: 1
    type: "ACTION"
    next: "step2"
  - key: "step2"
    typeKey: "groovyCondition"
    parameters:
      c: 5
    snippets:
      groovyCondition:
        content: "lepContext.step.context > lepContext.step.parameters.c"
        extension: "groovy"
    type: "CONDITION"
    nextOnConditionFalse: "step3"
    nextOnConditionTrue: "step5"
  - key: "step3"
    typeKey: "notIsZero"
    type: "CONDITION"
    parameters:
        stepKey: "step1"
    nextOnConditionTrue: "step4"
  - key: "step4"
    typeKey: "divide"
    parameters:
      c: 24
      stepKey: "step1"
    type: "ACTION"
  - key: "step5"
    typeKey: "minus"
    parameters:
        a: 7
    type: "ACTION"
  - key: "step6"
    typeKey: "groovyAction"
    type: "ACTION"
    snippets:
        groovyAction:
            content: "(int)(lepContext.steps.step1.output * lepContext.steps.step5.output)"
            extension: "groovy"
  trigger:
    typeKey: "httpkey"
    parameters:
      method: "GET"
      url: "/api/orders"
